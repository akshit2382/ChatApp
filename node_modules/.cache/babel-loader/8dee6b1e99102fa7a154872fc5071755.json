{"ast":null,"code":"import React, { useEffect, useRef } from 'react';\nimport { useTranslationContext } from '../../context/TranslationContext';\nexport var Modal = function (props) {\n  var children = props.children,\n      onClose = props.onClose,\n      open = props.open;\n  var t = useTranslationContext('Modal').t;\n  var innerRef = useRef(null);\n  var closeRef = useRef(null);\n\n  var handleClick = function (event) {\n    var _a, _b;\n\n    if (event.target instanceof HTMLDivElement && !((_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target)) && onClose || event.target instanceof HTMLButtonElement && ((_b = closeRef.current) === null || _b === void 0 ? void 0 : _b.contains(event.target)) && onClose) {\n      onClose();\n    }\n  };\n\n  useEffect(function () {\n    if (!open) return function () {\n      return null;\n    };\n\n    var handleEscKey = function (event) {\n      if (event instanceof KeyboardEvent && event.key === 'Escape' && onClose) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keypress', handleEscKey);\n    return function () {\n      return document.removeEventListener('keypress', handleEscKey);\n    };\n  }, [onClose, open]);\n  var openClasses = open ? 'str-chat__modal--open' : 'str-chat__modal--closed';\n  return React.createElement(\"div\", {\n    className: \"str-chat__modal \" + openClasses,\n    onClick: handleClick\n  }, React.createElement(\"button\", {\n    className: 'str-chat__modal__close-button',\n    ref: closeRef,\n    title: 'Close'\n  }, t('Close'), React.createElement(\"svg\", {\n    height: '10',\n    width: '10',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M9.916 1.027L8.973.084 5 4.058 1.027.084l-.943.943L4.058 5 .084 8.973l.943.943L5 5.942l3.973 3.974.943-.943L5.942 5z',\n    fillRule: 'evenodd'\n  }))), React.createElement(\"div\", {\n    className: 'str-chat__modal__inner',\n    ref: innerRef\n  }, children));\n};","map":null,"metadata":{},"sourceType":"module"}