{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Akshit\\\\Desktop\\\\ChatApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Akshit\\\\Desktop\\\\ChatApp\\\\src\\\\Chat.js\";\nimport React, { useEffect, useState } from 'react';\nimport { StreamChat } from 'stream-chat';\nimport { Chat, Channel, ChannelHeader, ChannelList, LoadingIndicator, MessageInput, MessageList, Thread, Window } from 'stream-chat-react'; // import 'stream-chat-react/dist/css/index.css';\n\nlet userToken = \"\";\nconst username = localStorage.getItem(\"username\");\nif (username == 'akshit') userToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYWtzaGl0In0.fWr9z1b8O1CYfxPRQC1z7JOWoQM8Z3F1S3Z7C4wdG3E\";else if (username == 'user1') userToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoidXNlcjEifQ.dh0-qZMKYXO44KLIqnUE47s1d6KyNkoi_88p0KHzfGY\";else if (username == 'user2') userToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoidXNlcjIifQ.PiZE2vc6e9qgJO_GTnOxPZNC1R7OIKGFP_QCYxhtdjw\";\nconst filters = {\n  type: 'messaging',\n  members: ['akshit', 'user1', 'user2']\n};\nconst sort = {\n  last_message_at: -1\n}; // console.log(\"Hello\");\n\nconst ChatApp = props => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        chatClient = _useState2[0],\n        setChatClient = _useState2[1];\n\n  let channel = null;\n  useEffect(() => {\n    const initChat = async () => {\n      const client = StreamChat.getInstance('chbyjnv2st7v'); // const serverClient = StreamChat.getInstance('chbyjnv2st7v','wh8na75jcfk443vvavpghkut4z974vx5p93xt47e7drj42p7dy62c9pku3mzukrr');\n      // const userToken = client.createToken(username)\n\n      console.log(userToken);\n      await client.connectUser({\n        id: username,\n        name: username,\n        image: 'https://thumbs.dreamstime.com/b/default-avatar-profile-image-vector-social-media-user-icon-potrait-182347582.jpg'\n      }, userToken);\n      setChatClient(client);\n      channel = client.channel('messaging', {\n        // add as many custom fields as you'd like\n        image: 'https://www.drupal.org/files/project-images/react.png',\n        name: 'Chat App',\n        members: ['akshit', 'user1', 'user2']\n      });\n    };\n\n    initChat();\n  }, []);\n\n  if (!chatClient) {\n    return React.createElement(LoadingIndicator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(Chat, {\n    client: chatClient,\n    theme: \"messaging light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(ChannelList, {\n    filters: filters,\n    sort: sort,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(Channel, {\n    channel: channel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Window, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(ChannelHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(MessageList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(MessageInput, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), React.createElement(Thread, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })));\n};\n\nexport default ChatApp;","map":{"version":3,"sources":["C:/Users/Akshit/Desktop/ChatApp/src/Chat.js"],"names":["React","useEffect","useState","StreamChat","Chat","Channel","ChannelHeader","ChannelList","LoadingIndicator","MessageInput","MessageList","Thread","Window","userToken","username","localStorage","getItem","filters","type","members","sort","last_message_at","ChatApp","props","chatClient","setChatClient","channel","initChat","client","getInstance","console","log","connectUser","id","name","image"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StreamChat } from 'stream-chat';\n\nimport { Chat, Channel, ChannelHeader, ChannelList, LoadingIndicator, MessageInput, MessageList, Thread, Window, } from 'stream-chat-react';\n\n// import 'stream-chat-react/dist/css/index.css';\nlet userToken = \"\";\nconst username = localStorage.getItem(\"username\");\nif (username == 'akshit')\n  userToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYWtzaGl0In0.fWr9z1b8O1CYfxPRQC1z7JOWoQM8Z3F1S3Z7C4wdG3E\";\nelse if (username == 'user1')\n  userToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoidXNlcjEifQ.dh0-qZMKYXO44KLIqnUE47s1d6KyNkoi_88p0KHzfGY\";\nelse if (username == 'user2')\n  userToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoidXNlcjIifQ.PiZE2vc6e9qgJO_GTnOxPZNC1R7OIKGFP_QCYxhtdjw\";\n\nconst filters = {\n  type: 'messaging',\n  members: ['akshit', 'user1', 'user2'],\n};\nconst sort = { last_message_at: -1 };\n// console.log(\"Hello\");\nconst ChatApp = (props) => {\n\n  const [chatClient, setChatClient] = useState(null);\n\n  let channel = null;\n\n  useEffect(() => {\n    const initChat = async () => {\n      const client = StreamChat.getInstance('chbyjnv2st7v');\n      // const serverClient = StreamChat.getInstance('chbyjnv2st7v','wh8na75jcfk443vvavpghkut4z974vx5p93xt47e7drj42p7dy62c9pku3mzukrr');\n      // const userToken = client.createToken(username)\n      console.log(userToken);\n      await client.connectUser(\n        {\n          id: username,\n          name: username,\n          image:\n            'https://thumbs.dreamstime.com/b/default-avatar-profile-image-vector-social-media-user-icon-potrait-182347582.jpg',\n        },\n        userToken\n      );\n\n      setChatClient(client);\n\n      channel = client.channel('messaging',  {\n        // add as many custom fields as you'd like\n        image: 'https://www.drupal.org/files/project-images/react.png',\n        name: 'Chat App',\n        members: ['akshit','user1','user2']\n      });\n    };\n\n    initChat();\n  }, []);\n\n  \n\n  if (!chatClient) {\n    return <LoadingIndicator />;\n  }\n\n  return (\n    <Chat client={chatClient} theme=\"messaging light\">\n      <ChannelList filters={filters} sort={sort} />\n      <Channel channel={channel}>\n        <Window>\n          <ChannelHeader />\n          <MessageList />\n          <MessageInput />\n        </Window>\n        <Thread />\n      </Channel>\n    </Chat>\n  );\n};\n\nexport default ChatApp;\n"]},"metadata":{},"sourceType":"module"}