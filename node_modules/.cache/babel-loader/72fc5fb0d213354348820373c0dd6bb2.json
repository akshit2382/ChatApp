{"ast":null,"code":"import React from 'react';\nimport ReactMarkdown from 'react-markdown/with-html';\nexport var renderPreviewText = function (text) {\n  return React.createElement(ReactMarkdown, {\n    source: text\n  });\n};\nexport var getLatestMessagePreview = function (channel, t, userLanguage) {\n  var _a, _b;\n\n  if (userLanguage === void 0) {\n    userLanguage = 'en';\n  }\n\n  var latestMessage = channel.state.messages[channel.state.messages.length - 1];\n  var previewTextToRender = ((_a = latestMessage === null || latestMessage === void 0 ? void 0 : latestMessage.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || (latestMessage === null || latestMessage === void 0 ? void 0 : latestMessage.text);\n\n  if (!latestMessage) {\n    return t('Nothing yet...');\n  }\n\n  if (latestMessage.deleted_at) {\n    return t('Message deleted');\n  }\n\n  if (previewTextToRender) {\n    var renderedText = renderPreviewText(previewTextToRender);\n    return renderedText;\n  }\n\n  if (latestMessage.command) {\n    return \"/\" + latestMessage.command;\n  }\n\n  if ((_b = latestMessage.attachments) === null || _b === void 0 ? void 0 : _b.length) {\n    return t('üèô Attachment...');\n  }\n\n  return t('Empty message...');\n};\nexport var getDisplayTitle = function (channel, currentUser) {\n  var _a, _b;\n\n  var title = (_a = channel.data) === null || _a === void 0 ? void 0 : _a.name;\n  var members = Object.values(channel.state.members);\n\n  if (!title && members.length === 2) {\n    var otherMember = members.find(function (member) {\n      var _a;\n\n      return ((_a = member.user) === null || _a === void 0 ? void 0 : _a.id) !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id);\n    });\n\n    if ((_b = otherMember === null || otherMember === void 0 ? void 0 : otherMember.user) === null || _b === void 0 ? void 0 : _b.name) {\n      title = otherMember.user.name;\n    }\n  }\n\n  return title;\n};\nexport var getDisplayImage = function (channel, currentUser) {\n  var _a, _b;\n\n  var image = (_a = channel.data) === null || _a === void 0 ? void 0 : _a.image;\n  var members = Object.values(channel.state.members);\n\n  if (!image && members.length === 2) {\n    var otherMember = members.find(function (member) {\n      var _a;\n\n      return ((_a = member.user) === null || _a === void 0 ? void 0 : _a.id) !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id);\n    });\n\n    if ((_b = otherMember === null || otherMember === void 0 ? void 0 : otherMember.user) === null || _b === void 0 ? void 0 : _b.image) {\n      image = otherMember.user.image;\n    }\n  }\n\n  return image;\n};","map":null,"metadata":{},"sourceType":"module"}