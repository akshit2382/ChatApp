{"ast":null,"code":"import React from 'react';\nimport { FileUploadButton, ImageDropzone } from 'react-file-utils';\nimport { EmojiPicker } from './EmojiPicker';\nimport { CooldownTimer as DefaultCooldownTimer } from './hooks/useCooldownTimer';\nimport { EmojiIconLarge as DefaultEmojiIcon, FileUploadIconFlat as DefaultFileUploadIcon, SendButton as DefaultSendButton } from './icons';\nimport { QuotedMessagePreview as DefaultQuotedMessagePreview } from './QuotedMessagePreview';\nimport { UploadsPreview } from './UploadsPreview';\nimport { ChatAutoComplete } from '../ChatAutoComplete/ChatAutoComplete';\nimport { Tooltip } from '../Tooltip/Tooltip';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nexport var MessageInputFlat = function () {\n  var _a = useChannelStateContext('MessageInputFlat'),\n      acceptedFiles = _a.acceptedFiles,\n      multipleUploads = _a.multipleUploads,\n      quotedMessage = _a.quotedMessage;\n\n  var t = useTranslationContext('MessageInputFlat').t;\n\n  var _b = useMessageInputContext('MessageInputFlat'),\n      closeEmojiPicker = _b.closeEmojiPicker,\n      cooldownInterval = _b.cooldownInterval,\n      cooldownRemaining = _b.cooldownRemaining,\n      emojiPickerIsOpen = _b.emojiPickerIsOpen,\n      handleSubmit = _b.handleSubmit,\n      isUploadEnabled = _b.isUploadEnabled,\n      maxFilesLeft = _b.maxFilesLeft,\n      openEmojiPicker = _b.openEmojiPicker,\n      setCooldownRemaining = _b.setCooldownRemaining,\n      uploadNewFiles = _b.uploadNewFiles;\n\n  var _c = useComponentContext('MessageInputFlat'),\n      _d = _c.CooldownTimer,\n      CooldownTimer = _d === void 0 ? DefaultCooldownTimer : _d,\n      _e = _c.EmojiIcon,\n      EmojiIcon = _e === void 0 ? DefaultEmojiIcon : _e,\n      _f = _c.FileUploadIcon,\n      FileUploadIcon = _f === void 0 ? DefaultFileUploadIcon : _f,\n      _g = _c.QuotedMessagePreview,\n      QuotedMessagePreview = _g === void 0 ? DefaultQuotedMessagePreview : _g,\n      _h = _c.SendButton,\n      SendButton = _h === void 0 ? DefaultSendButton : _h;\n\n  return React.createElement(\"div\", {\n    className: \"str-chat__input-flat \" + (SendButton ? 'str-chat__input-flat--send-button-active' : null) + \" \" + (quotedMessage && !quotedMessage.parent_id ? 'str-chat__input-flat-quoted' : null)\n  }, React.createElement(ImageDropzone, {\n    accept: acceptedFiles,\n    disabled: !isUploadEnabled || maxFilesLeft === 0 || !!cooldownRemaining,\n    handleFiles: uploadNewFiles,\n    maxNumberOfFiles: maxFilesLeft,\n    multiple: multipleUploads\n  }, quotedMessage && !quotedMessage.parent_id && React.createElement(QuotedMessagePreview, {\n    quotedMessage: quotedMessage\n  }), React.createElement(\"div\", {\n    className: 'str-chat__input-flat-wrapper'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__input-flat--textarea-wrapper'\n  }, isUploadEnabled && React.createElement(UploadsPreview, null), React.createElement(\"div\", {\n    className: 'str-chat__emojiselect-wrapper'\n  }, React.createElement(Tooltip, null, emojiPickerIsOpen ? t('Close emoji picker') : t('Open emoji picker')), React.createElement(\"button\", {\n    \"aria-label\": 'Emoji picker',\n    className: 'str-chat__input-flat-emojiselect',\n    onClick: emojiPickerIsOpen ? closeEmojiPicker : openEmojiPicker\n  }, cooldownRemaining ? React.createElement(\"div\", {\n    className: 'str-chat__input-flat-cooldown'\n  }, React.createElement(CooldownTimer, {\n    cooldownInterval: cooldownInterval,\n    setCooldownRemaining: setCooldownRemaining\n  })) : React.createElement(EmojiIcon, null))), React.createElement(EmojiPicker, null), React.createElement(ChatAutoComplete, null), isUploadEnabled && !cooldownRemaining && React.createElement(\"div\", {\n    className: 'str-chat__fileupload-wrapper',\n    \"data-testid\": 'fileinput'\n  }, React.createElement(Tooltip, null, maxFilesLeft ? t('Attach files') : t(\"You've reached the maximum number of files\")), React.createElement(FileUploadButton, {\n    accepts: acceptedFiles,\n    disabled: maxFilesLeft === 0,\n    handleFiles: uploadNewFiles,\n    multiple: multipleUploads\n  }, React.createElement(\"span\", {\n    className: 'str-chat__input-flat-fileupload'\n  }, React.createElement(FileUploadIcon, null))))), !cooldownRemaining && React.createElement(SendButton, {\n    sendMessage: handleSubmit\n  }))));\n};","map":null,"metadata":{},"sourceType":"module"}